{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"FEBioChem","text":"<p>This is the documentation for FEBioChem, an FEBio plugin that allows users to solve reaction-diffusion and reaction-diffusion-convection problems. </p>"},{"location":"febiochem_user_manual/","title":"User Manual","text":""},{"location":"febiochem_user_manual/#introduction","title":"Introduction","text":"<p>The FEBioChem plugin was designed for solving the reaction-diffusion equation in the context of a (non-deformable) mixture with multiple chemical species. The species can be solutes that flow with the solvent, or can be bound to the solid phase of the mixture. In this regard, this plugin offers similar capabilities as the FEBioMix module in FEBio (at least for non-deformable mixtures). However, since the mixture is assumed non-deformable, the calculations are optimized and the performance improved.</p> <p>The basic set of equations that FEBioChem solves are the nonlinear reaction-diffusion equations, which can be stated in the following form.</p> \\[ \\begin{equation} {{\\partial }_{t}}{{u}^{\\left( i \\right)}}=\\nabla \\cdot \\left( {{\\mathbf{D}}^{\\left( i \\right)}}\\nabla {{u}^{\\left( i \\right)}} \\right)-\\nabla \\cdot \\left( \\mathbf{v}{{u}^{\\left( i \\right)}} \\right)+{{R}^{\\left( i \\right)}}\\left( \\mathbf{u} \\right),i=1\\ldots N \\end{equation} \\] <p>Here, \\({{u}^{\\left( i \\right)}}\\) represents the concentration of chemical species \\(i\\), \\({{\\mathbf{D}}^{\\left( i \\right)}}\\) the diffusion constant of species \\(i\\), and \\({{R}^{\\left( i \\right)}}\\) accounts for all local reactions that contribute to the concentration of species \\(i\\). The vector \\({{\\mathbf{u}}^{T}}=\\left[ {{u}^{\\left( 1 \\right)}},...,{{u}^{\\left( N \\right)}} \\right]\\) represents all the concentrations, and \\(v\\) represents a velocity field in which the solutes can flow. </p> <p>A general (forward) chemical reaction is notated as follows.</p> \\[ \\begin{equation} \\sum\\limits_{i}{{{{{v}'}}_{ij}}}{{M}_{i}}\\overset{{{k}_{j}}}{\\mathop{\\to }}\\,\\sum\\limits_{i}{{{{{v}''}}_{ij}}{{M}_{i}}} \\end{equation} \\] <p>Here, \\(M_i\\) identifies the chemical species, \\({{{v}'}_{ij}}\\) and \\({{{v}''}_{ij}}\\) are the stoichiometric coefficients of the reactants and products, respectively, \\(k_j\\) is the rate coefficient of the j-th reaction.</p> <p>The source term \\({{R}^{\\left( i \\right)}}=\\sum\\limits_{j=1}^{J}{{{v}_{ij}}{{r}_{j}}}\\) takes on the following form,</p> <p>Here, the sum is over \\(J\\) reactions and \\({{v}_{ij}}={{{v}''}_{ij}}-{{{v}'}_{ij}}\\) and,</p> \\[ \\begin{equation} {{r}_{j}}={{k}_{j}}\\prod\\limits_{i=1}^{I}{{{\\left[ {{u}^{\\left( i \\right)}} \\right]}^{{{\\mu }_{ij}}}}} \\end{equation} \\] <p>the reaction rate of reaction \\(j\\). Usually, the exponent is taken to be \\({{\\mu }_{ij}}={{{\\nu }'}_{ij}}\\) ,as according to the law of mass action.</p>"},{"location":"febiochem_user_manual/#mixtures","title":"Mixtures","text":"<p>Thus far, we considered the case where the solute is free, i.e. not inside a porous material. In the case if the solutes are contained inside a porous material, then the equations above remain valid, except now that the concentrations are with respect to the mixture volume. The \u2018true\u2019 concentration \\({{c}^{\\left( i \\right)}}\\), i.e. the concentration w.r.t. to the solvent is related to the \u2018bulk\u2019 concentration via,</p> \\[ \\begin{equation} {{u}^{\\left( i \\right)}}=\\varphi\\,{{c}^{\\left( i \\right)}} \\end{equation} \\] <p>where \\(\\varphi\\) is the fluid volume fraction, i.e. the fraction of the volume that is accessible to the fluid (and therefore to the solvents). The FEBioChem plugin will report the true concentrations of the solution. A mixture is defined by two phases, a solid and a fluid phase. The fluid is assumed to be a solvent in which several species were dissolved. The volume fractions of the dissolved solutions are negligible and thus the solid and fluid volume fractions add up to unity.</p> \\[ \\begin{equation} {{\\varphi }^{s}}+{{\\varphi }^{f}}=1 \\end{equation} \\] <p>We now consider the case that a chemical species exists as part of the solid phase. Such a species is called a solid-bound molecule (sbm). Since it is bound to the solid (immovable) phase, it is assumed that a solid-bound molecule does not undergo diffusion. Let us denote the apparent density of the sbm by \\(\\rho^{\\sigma}\\). It then follows that the governing equation for a solid-bound molecule is given by,</p> \\[ \\begin{equation} \\frac{d{{\\rho }^{\\sigma }}}{dt}={{\\hat{\\rho }}^{\\sigma }} \\end{equation} \\] <p>where \\({{\\hat{\\rho }}^{\\sigma }}\\) is the mass supply for the sbm. In this context, the mass supply will be calculated from the chemical reactions.</p> <p>A change in the apparent density of an SBM has an effect of the solid volume fraction, which is now defined via,</p> \\[ \\begin{equation} {{\\varphi }^{s}}=\\varphi _{0}^{s}+\\sum\\limits_{\\sigma }{{{\\varphi }^{\\sigma }}} \\end{equation} \\] <p>where the volume fraction of the sbm is defined via,</p> \\[ \\begin{equation} {{\\varphi }^{\\sigma }}=\\frac{{{\\rho }^{\\sigma }}}{\\rho _{T}^{\\sigma }} \\end{equation} \\] <p>That is, it is the ratio of the apparent density over the true density of the sbm. The fluid volume fraction, or porosity, is then defined via \\(\\varphi =1-{{\\varphi }^{s}}\\).</p>"},{"location":"febiochem_user_manual/#using-the-febiochem-plugin","title":"Using the FEBioChem plugin","text":"<p>Like any other FEBio plugin, the plugin must be placed in a folder and the path to the plugin must be defined in the FEBio configuration file. This file is usually called <code>febio.xml</code> and can be found in the same location as the FEBio executable. In this file, add the following line:</p> <pre><code>&lt;import&gt;C:\\path\\to\\febio\\plugin\\FEBioChem.dll&lt;/import&gt;\n</code></pre> <p>Make sure to include the full path name and file name of the plugin. When FEBio starts it will read the configuration file and load all the plugins defined therein. A message will be shown to the screen to inform the user whether the plugin was loaded successfully or not.</p>"},{"location":"febiochem_user_manual/#defining-an-febiochem-model","title":"Defining an FEBioChem model","text":"<p>For the most part an FEBioChem model is a standard FEBio model with a few modifications. These are discussed in the following sections. Note that this user\u2019s manual assumes version 4.0 of the FEBio file format.</p>"},{"location":"febiochem_user_manual/#module","title":"Module","text":"<p>The <code>type</code> attribute of <code>Module</code> tag needs the value <code>reaction-diffusion</code>.</p> <pre><code>&lt;Module type=\"reaction-diffusion\"/&gt;\n</code></pre> <p>This will inform FEBio to load the reaction-diffusion solver that is part of the FEBioChem plugin.</p> <p>This module does not include convection. If you want to include the convection term, you need to use the <code>reaction-diffusion-convection</code> module.</p> <pre><code>&lt;Module type=\"reaction-diffusion-convection\"/&gt;\n</code></pre> <p>Now, a velocity field variable is added to the model, which can be defined in the <code>Initial</code> section of the input file. See section initial velocity for more information on how to initialize the velocity field.</p>"},{"location":"febiochem_user_manual/#globals","title":"Globals","text":"<p>The chemical species that are used in the model are defined in the <code>Globals</code> section. The species are defined identically to the way they are defined for a multiphasic problem and we refer to the FEBio user\u2019s manual. The following caveat applies:</p> <ul> <li>A solute defines a chemical species that is not bound to the solid phase of a mixture. If a model doesn\u2019t represent a mixture, each solute defines a chemical species. No child properties need to be defined for a solute.</li> <li>A solid_bound defines a chemical species that is bound to the solid-phase of a mixture. Again, no child properties need to be defined for a solid bound species.</li> </ul>"},{"location":"febiochem_user_manual/#solver","title":"Solver","text":"<p>Make sure to set the solver type to the same name as the module. For instance, for a reaction-diffusion model, set</p> <pre><code>&lt;solver type=\"reaction-diffusion\"&gt;\n...\n&lt;/solver&gt;\n</code></pre>"},{"location":"febiochem_user_manual/#material","title":"Material","text":"<p>The material type needed by this plugin is <code>reaction-diffusion</code>. It needs the following material properties. Note that not all are required.</p> Property Description <code>solid_volume_fraction</code> The volume fraction of the solid phase <code>species</code> Specifies the properties of a chemical species <code>solid_bound_species</code> Specifies a species that remains bound to the solid phase of the mixture. <code>reaction</code> Specifies the chemical reaction. <p>The <code>solid_volume_fraction</code> is only required when modeling a mixture. It has an initial value of zero.</p>"},{"location":"febiochem_user_manual/#species-property","title":"species property","text":"<p>Each chemical species that is used by the material must be defined in the material\u2019s definition. (Note that this can be less than the total number of species in the model, as defined by the <code>Globals</code> section.). A particular species is referenced by name. For each species, the <code>diffusivity</code> parameter must be defined.</p> <pre><code>&lt;species name=\"A\"&gt;\n    &lt;diffusivity&gt;0.05&lt;/diffusivity&gt;\n&lt;/species&gt;\n</code></pre>"},{"location":"febiochem_user_manual/#solid_bound_species-property","title":"solid_bound_species property","text":"<p>Each solid-bound chemical species that is used by the material must be included in the material\u2019s definition. (Note that this can be less than the total number of species in the model, as defined by the <code>Globals</code> section). For each solid-bound species, define the following material parameters.</p> Parameter Description Default <code>rho0</code> Initial apparent density (w.r.t. the mixture volume) 0 <code>density</code> The true density of the solid-bound species 0 <code>rhomin</code> The minimum value of the apparent density allowed 0 <code>rhomax</code> The maximum value of the apparent density allowed (ignored) <code>molar_mass</code> The molar mass of the solid-bound species. 0"},{"location":"febiochem_user_manual/#reaction-property","title":"reaction property","text":"<p>The <code>reaction</code> property allows you to define a chemical reaction. Note that currently FEBioChem only models forward reactions. To model a reversible reaction you must specify two reactions, where the first reaction defines the forward reaction and the second defines the reverse reaction. Defining a reaction in the FEBioChem plugin is very easy since only two parameters need to be specified.</p> <p>The reaction equation is defined by writing the reaction formula as follows.</p> <ul> <li>Use the name of the species as defined in the Globals section to reference it.</li> <li>A stoichiometric coefficient of 1 does not need to be defined, but otherwise it must an integer number that appears before the species\u2019 name and separated from it via a multiplication symbol <code>*</code>. </li> <li>A plus symbol <code>+</code> is used to enumerate all reactants and products.</li> <li>The symbols <code>--&gt;</code> or <code>-&gt;</code> can be used to separate the reactants from the products. </li> <li>The reactant or product lists can be empty. </li> </ul> <p>Here are some examples. Assume that all the chemical species are properly defined in the <code>Globals</code> section. </p> <pre><code>A--&gt;B\nA+B--&gt;C\n2*A+2*B-&gt;C+B\nA--&gt;\n--&gt;B\n</code></pre> <p>Again, it is emphasized that all species involved in a reaction must be defined inside the material\u2019s definition.</p>"},{"location":"febiochem_user_manual/#initial-values","title":"Initial values","text":"<p>For each species (but not solid-bound species), an initial value can be set in the <code>Initial</code> section of the FEBio input file via the <code>init</code> tag.</p> <pre><code>&lt;ic type=\"initial concentration\" node_set=\"set1\"&gt;\n    &lt;dof&gt;c1&lt;/dof&gt;\n    &lt;value&gt;1.0&lt;/value&gt;\n&lt;/init&gt;\n</code></pre> <p>The <code>dof</code> parameter references the particular species (or solute). In this case, <code>c1</code> references the solute with ID equal to 1. The <code>node_set</code> references a node set that needs to be defined in the <code>Mesh</code> section of the input file.</p>"},{"location":"febiochem_user_manual/#boundary-conditions","title":"Boundary conditions","text":"<p>The syntax for defining fixed or prescribed is identical for any FEBio model. Use <code>c[n]</code> to reference a particular species (or solute, again no solid-bound species). Thus, for example, <code>c1</code> references solute with ID one, <code>c2</code> is the solute with ID 2, and so forth.  An example of a fixed boundary condition looks like this.</p> <p><pre><code>&lt;bc type=\"zero concentration\" node_set=\"FixedSet1\"&gt;\n    &lt;dof&gt;c1&lt;/dof&gt;\n&lt;/bc&gt;\n</code></pre> An example of a prescribed boundary condition looks like this.</p> <pre><code>&lt;bc type=\"prescribed concentration\" node_set=\"PrescribedSet1\"&gt;\n    &lt;dof&gt;c1&lt;/dof&gt;\n    &lt;value lc=\"1\"&gt;1.0&lt;/value&gt;\n&lt;/prescribe&gt;\n</code></pre> <p>The <code>node_set</code> attribute references nodesets that need to be defined in the <code>Mesh</code> section of the input file.</p>"},{"location":"febiochem_user_manual/#prescribing-a-concentration-flux","title":"Prescribing a concentration flux","text":"<p>A concentration flux can be prescribed via a surface load of type concentration flux and is defined as follows.</p> <pre><code>&lt;surface_load type=\"concentration flux\" surface=\"SurfaceLoad1\"&gt;\n    &lt;solute_id&gt;1&lt;/solute_id&gt;\n    &lt;flux lc=\"1\"&gt;-1.0&lt;/flux&gt;\n&lt;/surface_load&gt;\n</code></pre> <p>The <code>surface</code> attribute references a surface that is defined in the <code>Mesh</code> section. The <code>solute_id</code> references the ID of the corresponding solute as defined in the <code>Globals</code> section of the input file.</p>"},{"location":"febiochem_user_manual/#plot-variables","title":"Plot Variables","text":"<p>The FEBioChem plugin defines several new plot variables. They are list in the table below.</p> Plot variable Description <code>concentration</code> / <code>actual concentration</code> Get the true concentration of a species <code>effective concentration</code> Get the effective concentration of a species <code>sbs concentration</code> The true concentration of a solid-bound species <code>sbs apparent density</code> The apparent density of a solid-bound species <code>solid volume fraction</code> The solid volume fraction of the mixture <p>Note that the variables that references a species or a solid-bound species need to specify the name of the corresponding species as part of the plot variable definition. For instance,</p> <p><pre><code>&lt;var type=\"concentration['c1']\"/&gt;\n</code></pre> As with any other plot variable definition in FEBio, you can define an alias.</p> <pre><code>&lt;var type=\"concentration['c1']=c1/&gt;\n</code></pre> <p>The alias is the name of the data field that will be stored in the plot file, and thus will be show in FEBioStudio.</p>"},{"location":"febiochem_user_manual/#initial-velocity","title":"Initial velocity","text":"<p>For reaction-diffusion-convection problems, the fluid velocity needs to be initialized. This is done in the <code>Initial</code> section of the FEBio input file.</p> <p>The following example sets the x-component of the velocity vector to 1.0.</p> <pre><code>&lt;ic type=\"initial velocity\" node_set=\"SomeNodeSet\"&gt;\n    &lt;dof&gt;vx&lt;/dof&gt;\n    &lt;value&gt;1.0&lt;/value&gt;\n&lt;/init&gt;\n</code></pre> <p>You can also define a heterogeneous field. For instance,</p> <p><pre><code>&lt;ic type=\"initial velocity\" node_set=\"SomeNodeSet\"&gt;\n    &lt;dof&gt;vx&lt;/dof&gt;\n    &lt;value type=\"map\"&gt;init_vel&lt;value/&gt;\n&lt;/init&gt;\n</code></pre> Here, <code>init_vel</code> is a node data field that is defined in the <code>MeshData</code> section.</p> <p>You can also use a mathematical expression to set the initial velocity field. </p> <pre><code>&lt;ic type=\"initial velocity\" node_set=\"SomeNodeSet\"&gt;\n    &lt;dof&gt;vx&lt;/dof&gt;\n    &lt;value type=\"math\"&gt;4*(0.5 - Y)*(Y + 0.5)&lt;value/&gt;\n&lt;/init&gt;\n</code></pre>"}]}